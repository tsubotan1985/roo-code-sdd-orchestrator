# Rule: Technical Design Phase

## 1. Objective
承認された`requirements.md`に基づき、実装に必要なすべての技術的詳細を網羅した`design.md`を作成します。

## 2. Structure of `design.md`
`design.md`は以下のセクションを**必ず**含んでください。

1.  **概要:** 設計の全体像。
2.  **アーキテクチャ:**
    -   システム全体構成図とデータフロー図（Mermaid使用）。
3.  **コンポーネントとインターフェース:**
    -   主要なクラスやモジュール、その責務、そして主要なメソッドのシグネチャを定義します。
4.  **データモデル:**
    -   使用言語に応じた具体的なデータクラス定義（例: Pythonの`@dataclass`、TypeScriptの`interface`）を記述します。
5.  **エラーハンドリング:**
    -   想定されるエラーの種類（データ入力、処理、外部連携など）と、その処理戦略を定義します。
6.  **テスト戦略:**
    -   単体テスト、統合テスト、パフォーマンステスト、ユーザビリティテストの方針を具体的に記述します。
7.  **パフォーマンス考慮事項:**
    -   メモリ管理、計算最適化、I/O最適化に関する具体的な設計を記述します。
8.  **セキュリティ考慮事項:**
    -   ファイルアップロードの検証、データ保護など、セキュリティ対策を記述します。
9.  **国際化対応:**
    -   i18nの実装方針を記述します。UIに関して、基本は英語とし、必要最小限の部分のみ日本語とフランス語に翻訳してください。
10. **開発言語ルール:**
    -   プロジェクトは英語で開発（変数名、関数名、クラス名、ファイル名、API、設定ファイルのキー、ドキュメント）
    -   コメントは日本語で記述
    -   i18nは英語ベース、必要最小限の部分のみ日本語とフランス語に翻訳

# 【改訂版】統合仕様駆動開発ワークフロー 実践ガイド (v2)

この度は、改訂版ワークフロー設定ファイルをダウンロードいただきありがとうございます。
このガイドは、プロフェッショナルな現場で求められるレベルの仕様書をAIとの対話を通じて生成し、実装までをシームレスに行うための、**具体的なステップバイステップの操作手順**を解説します。

## 🎯 目的と主な改善点

この改訂版は、単なる機能要件だけでなく、**非機能要件（パフォーマンス、セキュリティ等）**や**具体的なデータ構造**、**要件とタスクのトレーサビリティ**といった、堅牢なソフトウェア開発に不可欠な要素を網羅的に扱えるよう、AIの思考プロセスを根本から強化しました。

-   **AIペルソナの強化:** AIは「シニア・システムアーキテクト」として振る舞い、より深く、体系的な質問を投げかけます。
-   **要件定義の深化:** 機能要件に加え、非機能要件に関するヒアリングをプロセスに統合しました。
-   **設計の網羅性:** テスト戦略、エラーハンドリング、セキュリティといった項目を設計書の必須項目としました。
-   **計画の具体性:** タスクをより詳細に分解し、各タスクがどの要件に紐づくかを明確にすることを義務付けました。

## ⚙️ セットアップ手順

1.  **ZIPファイルのダウンロード**: ページ上部のボタンから、すべての設定ファイルをダウンロードします。
2.  **プロジェクトルートに展開**: ダウンロードしたZIPファイルを、あなたの開発プロジェクトのルートディレクトリで展開してください。
3.  **プロジェクト概要の編集**: `projectBrief.md`を開き、あなたのプロジェクトに合わせて内容を編集してください。これはAIがプロジェクトの全体像を理解するために不可欠です。

---

## 🚀 実行ワークフロー

プロジェクトの状況に応じて、以下の2つのパターンのどちらかを選択して開発を開始します。

### パターンA: Kiro連携フロー (仕様書が既にある場合)

Kiroや手動で仕様書（`requirements.md`, `design.md`, `tasks.md`）が既に作成済みのケースです。

#### ステップ1: Orchestratorモードの起動

Roo Codeのチャットで、実装の司令塔である`Orchestrator`モードに切り替えます。

```bash
# ユーザーが入力するコマンド
/mode orchestrator
```

#### ステップ2: 実装の開始

`tasks.md`のパスを正確に指定して、実装プロセスを開始させます。

```bash
# ユーザーが入力するコマンド ([feature-name]は実際のフォルダ名に置き換える)
Execute the plan defined in ./specs/[feature-name]/tasks.md
```
AIは指示を受け、`tasks.md`に記載されたタスクを一つずつ`task-executor`モードに委任して実装を開始します。

#### ステップ3: 進捗の監視

AIがタスクを完了するたびにGitにコミットを行います。コミットログやAIからの報告を通じて、実装の進捗をリアルタイムで確認できます。

---

### パターンB: Roo Code仕様生成フロー (ゼロから始める場合)

まだ具体的な仕様書がなく、アイデア段階から開発を始めるケースです。

#### ステップ1: Architectモードの起動

仕様をゼロから生成するため、`spec-architect`モードに切り替えます。

```bash
# ユーザーが入力するコマンド
/mode spec-architect
```
> **AIの応答 (例):**
> **Current State:** `IDLE`
> 「シニア・システムアーキテクト」モードを起動しました。どのような機能の仕様を作成しますか？

#### ステップ2: 要件定義の開始と承認

開発したい機能の概要を伝えます。AIが対話をリードし、機能要件と非機能要件をヒアリングして`requirements.md`を作成します。

```bash
# ユーザーが入力するコマンド (例)
ユーザー認証機能の仕様を作成したい。
```
AIとの対話を経て、要件定義書が完成したら、AIは承認を求めます。

> **AIの応答 (例):**
> ...要件定義書の内容...
> 上記の内容でよろしければ、「**要件を承認します**」とご入力ください。設計フェーズに進みます。

承認するには、AIが指定した通りのコマンドを入力します。

```bash
# ユーザーが入力するコマンド
要件を承認します
```

#### ステップ3: 設計と承認

AIは`DESIGN`状態に移行し、承認された要件に基づいて技術設計を行い、`design.md`を生成します。

> **AIの応答 (例):**
> **Current State:** `DESIGN`
> 承認ありがとうございます。設計フェーズに移行します。
> ...設計書の内容...
> この設計で問題なければ、「**設計を承認します**」とご指示ください。

設計内容に問題がなければ、承認コマンドを入力します。

```bash
# ユーザーが入力するコマンド
設計を承認します
```

#### ステップ4: 実装計画と承認

AIは`IMPLEMENTATION_PLAN`状態に移行し、設計書から詳細なタスクリストを`tasks.md`として生成します。

> **AIの応答 (例):**
> **Current State:** `IMPLEMENTATION_PLAN`
> 承知しました。実装計画フェーズに移行します。
> ...タスクリストの内容...
> この計画で実装を開始してよろしければ、「**計画を承認します**」とご指示ください。

計画内容を確認し、承認コマンドを入力します。

```bash
# ユーザーが入力するコマンド
計画を承認します
```

#### ステップ5: 実装フェーズへの移行

計画が承認されると、AIは仕様作成の完了を報告し、実装への移行を促します。指示に従い、`Orchestrator`モードに切り替えます。

> **AIの応答 (例):**
> **Current State:** `DONE`
> 計画が承認されました。仕様作成プロセスは完了です。
> これより実装を開始します。`/mode orchestrator`を実行してください。

```bash
# ユーザーが入力するコマンド
/mode orchestrator
```

#### ステップ6: 実装の開始

`Orchestrator`モードに切り替わったら、先ほど作成した計画を実行するよう指示します。

```bash
# ユーザーが入力するコマンド
先ほど作成したユーザー認証機能の計画を実行してください。
```
AIはコンテキストを理解しているため、自動的に最新の`tasks.md`を見つけ出し、実装を開始します。以降はパターンAのステップ3と同様に、進捗を監視します。
